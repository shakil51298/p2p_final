{"ast":null,"code":"var _jsxFileName = \"/Users/mdkhalidhossain/CST/p2p-exchange/client/src/components/OrdersPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderPagee = ({\n  selectedOrderId\n}) => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [expandedOrder, setExpandedOrder] = useState(null);\n\n  // Auto-expand the order if selectedOrderId is provided\n  useEffect(() => {\n    if (selectedOrderId) {\n      console.log('üîî Auto-expanding order:', selectedOrderId);\n      setExpandedOrder(selectedOrderId);\n\n      // Optional: Scroll to the expanded order\n      setTimeout(() => {\n        const element = document.getElementById(`order-${selectedOrderId}`);\n        if (element) {\n          element.scrollIntoView({\n            behavior: 'smooth',\n            block: 'center'\n          });\n        }\n      }, 500);\n    }\n  }, [selectedOrderId]);\n\n  // Your existing order fetching logic here\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n  const fetchOrders = async () => {\n    try {\n      const user = JSON.parse(localStorage.getItem('user'));\n      const response = await fetch(`/api/orders/my-orders?user_id=${user.id}`);\n      const ordersData = await response.json();\n      setOrders(ordersData);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n    }\n  };\n  const toggleOrderExpand = orderId => {\n    setExpandedOrder(expandedOrder === orderId ? null : orderId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"My Orders\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), selectedOrderId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification-highlight\",\n      children: \"\\uD83D\\uDCCD Showing order from notification\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"orders-list\",\n      children: orders.map(order => /*#__PURE__*/_jsxDEV(\"div\", {\n        id: `order-${order.id}`,\n        className: `order-card ${expandedOrder === order.id ? 'expanded' : ''} ${selectedOrderId === order.id ? 'highlighted' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-header\",\n          onClick: () => toggleOrderExpand(order.id),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-id\",\n              children: [\"Order #\", order.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-amount\",\n              children: [order.amount, \" \", order.currency_from]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `order-status ${order.status}`,\n              children: order.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-arrow\",\n            children: expandedOrder === order.id ? '‚ñ≤' : '‚ñº'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), expandedOrder === order.id && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Amount:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [order.amount, \" \", order.currency_from]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total Price:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [order.total_price, \" \", order.currency_to]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-badge ${order.status}`,\n              children: order.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Counterparty:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: order.buyer_id === user.id ? order.seller_name : order.buyer_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this)]\n      }, order.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderPagee, \"6QiyckFAAmIFfFubpnPHTxVf5xY=\");\n_c = OrderPagee;\nexport default OrderPagee;\nvar _c;\n$RefreshReg$(_c, \"OrderPagee\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","OrderPagee","selectedOrderId","_s","orders","setOrders","expandedOrder","setExpandedOrder","console","log","setTimeout","element","document","getElementById","scrollIntoView","behavior","block","fetchOrders","user","JSON","parse","localStorage","getItem","response","fetch","id","ordersData","json","error","toggleOrderExpand","orderId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","order","onClick","amount","currency_from","status","total_price","currency_to","buyer_id","seller_name","buyer_name","_c","$RefreshReg$"],"sources":["/Users/mdkhalidhossain/CST/p2p-exchange/client/src/components/OrdersPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst OrderPagee = ({ selectedOrderId }) => {\n  const [orders, setOrders] = useState([]);\n  const [expandedOrder, setExpandedOrder] = useState(null);\n\n  // Auto-expand the order if selectedOrderId is provided\n  useEffect(() => {\n    if (selectedOrderId) {\n      console.log('üîî Auto-expanding order:', selectedOrderId);\n      setExpandedOrder(selectedOrderId);\n      \n      // Optional: Scroll to the expanded order\n      setTimeout(() => {\n        const element = document.getElementById(`order-${selectedOrderId}`);\n        if (element) {\n          element.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        }\n      }, 500);\n    }\n  }, [selectedOrderId]);\n\n  // Your existing order fetching logic here\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    try {\n      const user = JSON.parse(localStorage.getItem('user'));\n      const response = await fetch(`/api/orders/my-orders?user_id=${user.id}`);\n      const ordersData = await response.json();\n      setOrders(ordersData);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n    }\n  };\n\n  const toggleOrderExpand = (orderId) => {\n    setExpandedOrder(expandedOrder === orderId ? null : orderId);\n  };\n\n  return (\n    <div className=\"order-page\">\n      <h2>My Orders</h2>\n      \n      {selectedOrderId && (\n        <div className=\"notification-highlight\">\n          üìç Showing order from notification\n        </div>\n      )}\n      \n      <div className=\"orders-list\">\n        {orders.map(order => (\n          <div \n            key={order.id} \n            id={`order-${order.id}`}\n            className={`order-card ${expandedOrder === order.id ? 'expanded' : ''} ${selectedOrderId === order.id ? 'highlighted' : ''}`}\n          >\n            <div className=\"order-header\" onClick={() => toggleOrderExpand(order.id)}>\n              <div className=\"order-info\">\n                <span className=\"order-id\">Order #{order.id}</span>\n                <span className=\"order-amount\">{order.amount} {order.currency_from}</span>\n                <span className={`order-status ${order.status}`}>{order.status}</span>\n              </div>\n              <div className=\"order-arrow\">\n                {expandedOrder === order.id ? '‚ñ≤' : '‚ñº'}\n              </div>\n            </div>\n            \n            {expandedOrder === order.id && (\n              <div className=\"order-details\">\n                <div className=\"detail-row\">\n                  <span>Amount:</span>\n                  <span>{order.amount} {order.currency_from}</span>\n                </div>\n                <div className=\"detail-row\">\n                  <span>Total Price:</span>\n                  <span>{order.total_price} {order.currency_to}</span>\n                </div>\n                <div className=\"detail-row\">\n                  <span>Status:</span>\n                  <span className={`status-badge ${order.status}`}>{order.status}</span>\n                </div>\n                <div className=\"detail-row\">\n                  <span>Counterparty:</span>\n                  <span>{order.buyer_id === user.id ? order.seller_name : order.buyer_name}</span>\n                </div>\n                {/* Add more order details as needed */}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default OrderPagee;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}