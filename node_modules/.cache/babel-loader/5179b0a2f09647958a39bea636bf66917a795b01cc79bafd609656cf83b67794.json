{"ast":null,"code":"var _jsxFileName = \"/Users/mdkhalidhossain/CST/p2p-exchange/client/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, createContext, useContext } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { io } from 'socket.io-client';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\nimport './App.css';\n\n// ‚úÖ CREATE NOTIFICATION CONTEXT\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotificationContext = /*#__PURE__*/createContext();\n\n// ‚úÖ CUSTOM HOOK FOR NOTIFICATIONS\nexport const useNotifications = () => {\n  _s();\n  const context = useContext(NotificationContext);\n  if (!context) {\n    throw new Error('useNotifications must be used within NotificationProvider');\n  }\n  return context;\n};\n\n// ‚úÖ NOTIFICATION PROVIDER COMPONENT\n_s(useNotifications, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nconst NotificationProvider = ({\n  children\n}) => {\n  _s2();\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [socket, setSocket] = useState(null);\n\n  // Initialize socket connection\n  useEffect(() => {\n    const newSocket = io('http://localhost:50000'); // Your server URL\n    setSocket(newSocket);\n    return () => {\n      newSocket.disconnect();\n    };\n  }, []);\n\n  // ‚úÖ IMPROVED NOTIFICATION SOUND FUNCTION\n  const playNotificationSound = () => {\n    // Method 1: Try to play MP3 file\n    try {\n      const audio = new Audio('/notification.mp3');\n      audio.volume = 0.3; // Set volume to 30%\n      audio.play().catch(err => {\n        console.log('MP3 audio play failed, trying fallback:', err);\n        // If MP3 fails, use browser-generated sound\n        playBrowserSound();\n      });\n    } catch (error) {\n      console.log('MP3 audio error, using fallback:', error);\n      playBrowserSound();\n    }\n  };\n  const handleNotificationClick = notification => {\n    var _notification$data, _notification$data2, _notification$data3;\n    console.log('üîî Notification clicked:', notification);\n\n    // Mark as read first\n    markAsRead(notification.id);\n\n    // Prepare redirect data\n    let redirectData = {\n      tab: 'orders',\n      // default tab\n      orderId: null\n    };\n    switch (notification.type) {\n      case 'new_order':\n      case 'order_status':\n        redirectData.tab = 'orders';\n        redirectData.orderId = ((_notification$data = notification.data) === null || _notification$data === void 0 ? void 0 : _notification$data.id) || ((_notification$data2 = notification.data) === null || _notification$data2 === void 0 ? void 0 : _notification$data2.order_id);\n        break;\n      case 'new_message':\n        redirectData.tab = 'chat';\n        redirectData.orderId = (_notification$data3 = notification.data) === null || _notification$data3 === void 0 ? void 0 : _notification$data3.order_id;\n        break;\n      default:\n        redirectData.tab = 'orders';\n    }\n\n    // Store in localStorage for Dashboard to read\n    localStorage.setItem('notificationRedirect', JSON.stringify(redirectData));\n\n    // Dispatch custom event for real-time navigation\n    const event = new CustomEvent('notificationNavigate', {\n      detail: redirectData\n    });\n    window.dispatchEvent(event);\n    console.log('üîî Navigation triggered:', redirectData);\n  };\n\n  // ‚úÖ BROWSER-GENERATED SOUND (FALLBACK - NO FILE NEEDED)\n  const playBrowserSound = () => {\n    try {\n      // Create audio context\n      const AudioContext = window.AudioContext || window.webkitAudioContext;\n      const audioCtx = new AudioContext();\n\n      // Create oscillator for beep sound\n      const oscillator = audioCtx.createOscillator();\n      const gainNode = audioCtx.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(audioCtx.destination);\n\n      // Configure the beep sound\n      oscillator.frequency.setValueAtTime(800, audioCtx.currentTime); // Frequency in Hz\n      oscillator.type = 'sine';\n      gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime); // Volume\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);\n      oscillator.start(audioCtx.currentTime);\n      oscillator.stop(audioCtx.currentTime + 0.3);\n    } catch (error) {\n      console.log('Browser sound also failed:', error);\n    }\n  };\n\n  // ‚úÖ VIBRATION (FOR MOBILE DEVICES)\n  const vibrateDevice = () => {\n    if ('vibrate' in navigator) {\n      navigator.vibrate(200); // Vibrate for 200ms\n    }\n  };\n\n  // Add new notification\n  const addNotification = notification => {\n    const newNotification = {\n      id: Date.now(),\n      ...notification,\n      timestamp: new Date(),\n      read: false\n    };\n    setNotifications(prev => [newNotification, ...prev]);\n    setUnreadCount(prev => prev + 1);\n\n    // ‚úÖ PLAY SOUND AND VIBRATE\n    playNotificationSound();\n    vibrateDevice();\n\n    // Show browser notification if permitted\n    if (Notification.permission === 'granted') {\n      new Notification(notification.title || 'New Notification', {\n        body: notification.message,\n        icon: '/favicon.ico',\n        tag: 'p2p-notification'\n      });\n    }\n  };\n\n  // Mark notification as read\n  const markAsRead = id => {\n    setNotifications(prev => prev.map(notif => notif.id === id ? {\n      ...notif,\n      read: true\n    } : notif));\n    setUnreadCount(prev => Math.max(0, prev - 1));\n  };\n\n  // Mark all as read\n  const markAllAsRead = () => {\n    setNotifications(prev => prev.map(notif => ({\n      ...notif,\n      read: true\n    })));\n    setUnreadCount(0);\n  };\n\n  // Clear all notifications\n  const clearAll = () => {\n    setNotifications([]);\n    setUnreadCount(0);\n  };\n\n  // Join user notification room\n  const joinUserRoom = userId => {\n    if (socket && userId) {\n      socket.emit('join_user', userId);\n      console.log(`üîî Frontend: Joined notification room for user ${userId}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(NotificationContext.Provider, {\n    value: {\n      notifications,\n      unreadCount,\n      addNotification,\n      markAsRead,\n      markAllAsRead,\n      clearAll,\n      socket,\n      joinUserRoom,\n      handleNotificationClick // ‚Üê ADD THIS\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n\n// ‚úÖ CREATE QUERY CLIENT\n_s2(NotificationProvider, \"y5SaqQbS/PEjVXhMYkCzUx8kkV0=\");\n_c = NotificationProvider;\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: 1\n    }\n  }\n});\n\n// ‚úÖ MAIN APP COMPONENT (without useNotifications hook)\nfunction AppContent() {\n  _s3();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(true);\n  const [loading, setLoading] = useState(true);\n\n  // Now we can use the hook here because this component is INSIDE NotificationProvider\n  const {\n    joinUserRoom,\n    socket,\n    addNotification\n  } = useNotifications();\n\n  // Request notification permission on app start\n  useEffect(() => {\n    if ('Notification' in window) {\n      if (Notification.permission === 'default') {\n        Notification.requestPermission().then(permission => {\n          console.log('Notification permission:', permission);\n        });\n      }\n    }\n  }, []);\n\n  // Check if user is already logged in (on app start)\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    if (token && userData) {\n      const user = JSON.parse(userData);\n      setCurrentUser(user);\n    }\n    setLoading(false);\n  }, []);\n\n  // Socket.io listeners for real-time notifications\n  useEffect(() => {\n    if (socket && currentUser) {\n      // Join user's notification room when logged in\n      joinUserRoom(currentUser.id);\n\n      // Listen for new orders\n      socket.on('new_order', orderData => {\n        console.log('üîî New order received:', orderData);\n\n        // Add a small delay to avoid duplicates with frontend notifications\n        setTimeout(() => {\n          addNotification({\n            type: 'new_order',\n            title: 'üéâ New Order!',\n            message: `${orderData.buyer_name} ordered ${orderData.amount} ${orderData.currency_from} for ${orderData.total_price} ${orderData.currency_to}`,\n            data: orderData,\n            priority: 'high'\n          });\n        }, 1000); // 1 second delay\n      });\n\n      // Listen for order status updates\n      socket.on('order_status_updated', statusData => {\n        console.log('üîî Order status updated:', statusData);\n        addNotification({\n          type: 'order_status',\n          title: 'üì¶ Order Status Updated',\n          message: `Order #${statusData.order_id} is now ${statusData.status}`,\n          data: statusData,\n          priority: 'medium'\n        });\n      });\n\n      // Listen for chat messages (if you want notifications for new messages)\n      socket.on('receive_message', messageData => {\n        console.log('üîî New message received:', messageData);\n\n        // Only notify if message is not from current user\n        if (messageData.sender_id !== currentUser.id) {\n          addNotification({\n            type: 'new_message',\n            title: 'üí¨ New Message',\n            message: `New message in order #${messageData.order_id}`,\n            data: messageData,\n            priority: 'low'\n          });\n        }\n      });\n\n      // Handle connection events\n      socket.on('connect', () => {\n        console.log('üîµ Connected to server');\n      });\n      socket.on('disconnect', () => {\n        console.log('üî¥ Disconnected from server');\n      });\n      socket.on('connect_error', error => {\n        console.error('üî¥ Connection error:', error);\n      });\n    }\n\n    // Cleanup on unmount or when user/socket changes\n    return () => {\n      if (socket) {\n        socket.off('new_order');\n        socket.off('order_status_updated');\n        socket.off('receive_message');\n        socket.off('connect');\n        socket.off('disconnect');\n        socket.off('connect_error');\n      }\n    };\n  }, [socket, currentUser, joinUserRoom, addNotification]);\n  const handleLogin = authData => {\n    setCurrentUser(authData.user);\n    localStorage.setItem('token', authData.token);\n    localStorage.setItem('user', JSON.stringify(authData.user));\n    console.log('User logged in:', authData.user);\n  };\n  const handleLogout = () => {\n    setCurrentUser(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    queryClient.clear();\n    console.log('User logged out');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: currentUser ? /*#__PURE__*/_jsxDEV(Dashboard, {\n      user: currentUser,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD83D\\uDE80 P2P Currency Exchange\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Trade currencies securely with people worldwide\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this), showLogin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-switch\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"switch-link\",\n                onClick: () => setShowLogin(false),\n                children: \"Sign up here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Register, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-switch\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"switch-link\",\n                onClick: () => setShowLogin(true),\n                children: \"Login here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"features\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Why Choose Our Platform?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feature-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature\",\n              children: \"\\uD83D\\uDD12 Secure Transactions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature\",\n              children: \"\\uD83C\\uDF0D Global Marketplace\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature\",\n              children: \"\\u26A1 Fast Verification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature\",\n              children: \"\\uD83D\\uDCBC Multiple Payment Methods\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 349,\n    columnNumber: 5\n  }, this);\n}\n\n// ‚úÖ MAIN APP WRAPPER\n_s3(AppContent, \"hzW4lg1zKj6W6Eu4HOfYP3YYum4=\", false, function () {\n  return [useNotifications];\n});\n_c2 = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(QueryClientProvider, {\n    client: queryClient,\n    children: /*#__PURE__*/_jsxDEV(NotificationProvider, {\n      children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 5\n  }, this);\n}\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"NotificationProvider\");\n$RefreshReg$(_c2, \"AppContent\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","QueryClient","QueryClientProvider","io","Login","Register","Dashboard","jsxDEV","_jsxDEV","Fragment","_Fragment","NotificationContext","useNotifications","_s","context","Error","NotificationProvider","children","_s2","notifications","setNotifications","unreadCount","setUnreadCount","socket","setSocket","newSocket","disconnect","playNotificationSound","audio","Audio","volume","play","catch","err","console","log","playBrowserSound","error","handleNotificationClick","notification","_notification$data","_notification$data2","_notification$data3","markAsRead","id","redirectData","tab","orderId","type","data","order_id","localStorage","setItem","JSON","stringify","event","CustomEvent","detail","window","dispatchEvent","AudioContext","webkitAudioContext","audioCtx","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","setValueAtTime","currentTime","gain","exponentialRampToValueAtTime","start","stop","vibrateDevice","navigator","vibrate","addNotification","newNotification","Date","now","timestamp","read","prev","Notification","permission","title","body","message","icon","tag","map","notif","Math","max","markAllAsRead","clearAll","joinUserRoom","userId","emit","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","queryClient","defaultOptions","queries","refetchOnWindowFocus","retry","AppContent","_s3","currentUser","setCurrentUser","showLogin","setShowLogin","loading","setLoading","requestPermission","then","token","getItem","userData","user","parse","on","orderData","setTimeout","buyer_name","amount","currency_from","total_price","currency_to","priority","statusData","status","messageData","sender_id","off","handleLogin","authData","handleLogout","removeItem","clear","className","onLogout","onLogin","onClick","_c2","App","client","_c3","$RefreshReg$"],"sources":["/Users/mdkhalidhossain/CST/p2p-exchange/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { io } from 'socket.io-client';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\nimport './App.css';\n\n// ‚úÖ CREATE NOTIFICATION CONTEXT\nconst NotificationContext = createContext();\n\n// ‚úÖ CUSTOM HOOK FOR NOTIFICATIONS\nexport const useNotifications = () => {\n  const context = useContext(NotificationContext);\n  if (!context) {\n    throw new Error('useNotifications must be used within NotificationProvider');\n  }\n  return context;\n};\n\n// ‚úÖ NOTIFICATION PROVIDER COMPONENT\nconst NotificationProvider = ({ children }) => {\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [socket, setSocket] = useState(null);\n\n  // Initialize socket connection\n  useEffect(() => {\n    const newSocket = io('http://localhost:50000'); // Your server URL\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.disconnect();\n    };\n  }, []);\n\n  // ‚úÖ IMPROVED NOTIFICATION SOUND FUNCTION\n  const playNotificationSound = () => {\n    // Method 1: Try to play MP3 file\n    try {\n      const audio = new Audio('/notification.mp3');\n      audio.volume = 0.3; // Set volume to 30%\n      audio.play().catch(err => {\n        console.log('MP3 audio play failed, trying fallback:', err);\n        // If MP3 fails, use browser-generated sound\n        playBrowserSound();\n      });\n    } catch (error) {\n      console.log('MP3 audio error, using fallback:', error);\n      playBrowserSound();\n    }\n  };\n\n  const handleNotificationClick = (notification) => {\n    console.log('üîî Notification clicked:', notification);\n    \n    // Mark as read first\n    markAsRead(notification.id);\n    \n    // Prepare redirect data\n    let redirectData = {\n      tab: 'orders', // default tab\n      orderId: null\n    };\n    \n    switch (notification.type) {\n      case 'new_order':\n      case 'order_status':\n        redirectData.tab = 'orders';\n        redirectData.orderId = notification.data?.id || notification.data?.order_id;\n        break;\n        \n      case 'new_message':\n        redirectData.tab = 'chat';\n        redirectData.orderId = notification.data?.order_id;\n        break;\n        \n      default:\n        redirectData.tab = 'orders';\n    }\n    \n    // Store in localStorage for Dashboard to read\n    localStorage.setItem('notificationRedirect', JSON.stringify(redirectData));\n    \n    // Dispatch custom event for real-time navigation\n    const event = new CustomEvent('notificationNavigate', {\n      detail: redirectData\n    });\n    window.dispatchEvent(event);\n    \n    console.log('üîî Navigation triggered:', redirectData);\n  };\n\n  // ‚úÖ BROWSER-GENERATED SOUND (FALLBACK - NO FILE NEEDED)\n  const playBrowserSound = () => {\n    try {\n      // Create audio context\n      const AudioContext = window.AudioContext || window.webkitAudioContext;\n      const audioCtx = new AudioContext();\n      \n      // Create oscillator for beep sound\n      const oscillator = audioCtx.createOscillator();\n      const gainNode = audioCtx.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioCtx.destination);\n      \n      // Configure the beep sound\n      oscillator.frequency.setValueAtTime(800, audioCtx.currentTime); // Frequency in Hz\n      oscillator.type = 'sine';\n      \n      gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime); // Volume\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);\n      \n      oscillator.start(audioCtx.currentTime);\n      oscillator.stop(audioCtx.currentTime + 0.3);\n      \n    } catch (error) {\n      console.log('Browser sound also failed:', error);\n    }\n  };\n\n  // ‚úÖ VIBRATION (FOR MOBILE DEVICES)\n  const vibrateDevice = () => {\n    if ('vibrate' in navigator) {\n      navigator.vibrate(200); // Vibrate for 200ms\n    }\n  };\n\n  // Add new notification\n  const addNotification = (notification) => {\n    const newNotification = {\n      id: Date.now(),\n      ...notification,\n      timestamp: new Date(),\n      read: false\n    };\n    \n    setNotifications(prev => [newNotification, ...prev]);\n    setUnreadCount(prev => prev + 1);\n    \n    // ‚úÖ PLAY SOUND AND VIBRATE\n    playNotificationSound();\n    vibrateDevice();\n    \n    // Show browser notification if permitted\n    if (Notification.permission === 'granted') {\n      new Notification(notification.title || 'New Notification', {\n        body: notification.message,\n        icon: '/favicon.ico',\n        tag: 'p2p-notification'\n      });\n    }\n  };\n\n  // Mark notification as read\n  const markAsRead = (id) => {\n    setNotifications(prev =>\n      prev.map(notif =>\n        notif.id === id ? { ...notif, read: true } : notif\n      )\n    );\n    setUnreadCount(prev => Math.max(0, prev - 1));\n  };\n\n  // Mark all as read\n  const markAllAsRead = () => {\n    setNotifications(prev => prev.map(notif => ({ ...notif, read: true })));\n    setUnreadCount(0);\n  };\n\n  // Clear all notifications\n  const clearAll = () => {\n    setNotifications([]);\n    setUnreadCount(0);\n  };\n\n  // Join user notification room\n  const joinUserRoom = (userId) => {\n    if (socket && userId) {\n      socket.emit('join_user', userId);\n      console.log(`üîî Frontend: Joined notification room for user ${userId}`);\n    }\n  };\n\n  return (\n    <NotificationContext.Provider value={{\n      notifications,\n      unreadCount,\n      addNotification,\n      markAsRead,\n      markAllAsRead,\n      clearAll,\n      socket,\n      joinUserRoom,\n      handleNotificationClick // ‚Üê ADD THIS\n    }}>\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n\n// ‚úÖ CREATE QUERY CLIENT\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: 1,\n    },\n  },\n});\n\n// ‚úÖ MAIN APP COMPONENT (without useNotifications hook)\nfunction AppContent() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(true);\n  const [loading, setLoading] = useState(true);\n  \n  // Now we can use the hook here because this component is INSIDE NotificationProvider\n  const { joinUserRoom, socket, addNotification } = useNotifications();\n\n  // Request notification permission on app start\n  useEffect(() => {\n    if ('Notification' in window) {\n      if (Notification.permission === 'default') {\n        Notification.requestPermission().then(permission => {\n          console.log('Notification permission:', permission);\n        });\n      }\n    }\n  }, []);\n\n  // Check if user is already logged in (on app start)\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    \n    if (token && userData) {\n      const user = JSON.parse(userData);\n      setCurrentUser(user);\n    }\n    setLoading(false);\n  }, []);\n\n  // Socket.io listeners for real-time notifications\n  useEffect(() => {\n    if (socket && currentUser) {\n      // Join user's notification room when logged in\n      joinUserRoom(currentUser.id);\n\n// Listen for new orders\nsocket.on('new_order', (orderData) => {\n  console.log('üîî New order received:', orderData);\n  \n  // Add a small delay to avoid duplicates with frontend notifications\n  setTimeout(() => {\n    addNotification({\n      type: 'new_order',\n      title: 'üéâ New Order!',\n      message: `${orderData.buyer_name} ordered ${orderData.amount} ${orderData.currency_from} for ${orderData.total_price} ${orderData.currency_to}`,\n      data: orderData,\n      priority: 'high'\n    });\n  }, 1000); // 1 second delay\n});\n\n      // Listen for order status updates\n      socket.on('order_status_updated', (statusData) => {\n        console.log('üîî Order status updated:', statusData);\n        \n        addNotification({\n          type: 'order_status',\n          title: 'üì¶ Order Status Updated',\n          message: `Order #${statusData.order_id} is now ${statusData.status}`,\n          data: statusData,\n          priority: 'medium'\n        });\n      });\n\n      // Listen for chat messages (if you want notifications for new messages)\n      socket.on('receive_message', (messageData) => {\n        console.log('üîî New message received:', messageData);\n        \n        // Only notify if message is not from current user\n        if (messageData.sender_id !== currentUser.id) {\n          addNotification({\n            type: 'new_message',\n            title: 'üí¨ New Message',\n            message: `New message in order #${messageData.order_id}`,\n            data: messageData,\n            priority: 'low'\n          });\n        }\n      });\n\n      // Handle connection events\n      socket.on('connect', () => {\n        console.log('üîµ Connected to server');\n      });\n\n      socket.on('disconnect', () => {\n        console.log('üî¥ Disconnected from server');\n      });\n\n      socket.on('connect_error', (error) => {\n        console.error('üî¥ Connection error:', error);\n      });\n    }\n\n    // Cleanup on unmount or when user/socket changes\n    return () => {\n      if (socket) {\n        socket.off('new_order');\n        socket.off('order_status_updated');\n        socket.off('receive_message');\n        socket.off('connect');\n        socket.off('disconnect');\n        socket.off('connect_error');\n      }\n    };\n  }, [socket, currentUser, joinUserRoom, addNotification]);\n\n  const handleLogin = (authData) => {\n    setCurrentUser(authData.user);\n    localStorage.setItem('token', authData.token);\n    localStorage.setItem('user', JSON.stringify(authData.user));\n    console.log('User logged in:', authData.user);\n  };\n\n  const handleLogout = () => {\n    setCurrentUser(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    queryClient.clear();\n    console.log('User logged out');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"app\">\n        <div className=\"container\">\n          <div className=\"loading\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      {currentUser ? (\n        <Dashboard user={currentUser} onLogout={handleLogout} />\n      ) : (\n        <div className=\"container\">\n          <div className=\"auth-container\">\n            <div className=\"auth-header\">\n              <h1>üöÄ P2P Currency Exchange</h1>\n              <p>Trade currencies securely with people worldwide</p>\n            </div>\n\n            {showLogin ? (\n              <>\n                <Login onLogin={handleLogin} />\n                <div className=\"auth-switch\">\n                  <p>Don't have an account?{' '}\n                    <span className=\"switch-link\" onClick={() => setShowLogin(false)}>\n                      Sign up here\n                    </span>\n                  </p>\n                </div>\n              </>\n            ) : (\n              <>\n                <Register onLogin={handleLogin} />\n                <div className=\"auth-switch\">\n                  <p>Already have an account?{' '}\n                    <span className=\"switch-link\" onClick={() => setShowLogin(true)}>\n                      Login here\n                    </span>\n                  </p>\n                </div>\n              </>\n            )}\n\n            <div className=\"features\">\n              <h3>Why Choose Our Platform?</h3>\n              <div className=\"feature-list\">\n                <div className=\"feature\">üîí Secure Transactions</div>\n                <div className=\"feature\">üåç Global Marketplace</div>\n                <div className=\"feature\">‚ö° Fast Verification</div>\n                <div className=\"feature\">üíº Multiple Payment Methods</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ‚úÖ MAIN APP WRAPPER\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <NotificationProvider>\n        <AppContent />\n      </NotificationProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}