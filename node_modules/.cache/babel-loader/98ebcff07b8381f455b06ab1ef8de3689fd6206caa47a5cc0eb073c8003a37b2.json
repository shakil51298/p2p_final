{"ast":null,"code":"var _jsxFileName = \"/Users/mdkhalidhossain/CST/p2p-exchange/client/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, createContext, useContext } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { io } from 'socket.io-client';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\nimport './App.css';\n\n// ‚úÖ CREATE NOTIFICATION CONTEXT\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotificationContext = /*#__PURE__*/createContext();\n\n// ‚úÖ CUSTOM HOOK FOR NOTIFICATIONS\nexport const useNotifications = () => {\n  _s();\n  const context = useContext(NotificationContext);\n  if (!context) {\n    throw new Error('useNotifications must be used within NotificationProvider');\n  }\n  return context;\n};\n\n// ‚úÖ NOTIFICATION PROVIDER COMPONENT\n_s(useNotifications, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nconst NotificationProvider = ({\n  children\n}) => {\n  _s2();\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [socket, setSocket] = useState(null);\n\n  // Initialize socket connection\n  useEffect(() => {\n    const newSocket = io('http://localhost:50000'); // Your server URL\n    setSocket(newSocket);\n    return () => {\n      newSocket.disconnect();\n    };\n  }, []);\n\n  // ‚úÖ IMPROVED NOTIFICATION SOUND FUNCTION\n  const playNotificationSound = () => {\n    // Method 1: Try to play MP3 file\n    try {\n      const audio = new Audio('/notification.mp3');\n      audio.volume = 0.3; // Set volume to 30%\n      audio.play().catch(err => {\n        console.log('MP3 audio play failed, trying fallback:', err);\n        // If MP3 fails, use browser-generated sound\n        playBrowserSound();\n      });\n    } catch (error) {\n      console.log('MP3 audio error, using fallback:', error);\n      playBrowserSound();\n    }\n  };\n\n  // ‚úÖ ADD THIS FUNCTION to your NotificationProvider\n  const handleNotificationClick = notification => {\n    console.log('üîî Notification clicked:', notification);\n    switch (notification.type) {\n      case 'new_order':\n      case 'order_status':\n        // Redirect to order details page\n        if (notification.data && notification.data.id) {\n          window.location.href = `/orders/${notification.data.id}`;\n        } else if (notification.data && notification.data.order_id) {\n          window.location.href = `/orders/${notification.data.order_id}`;\n        }\n        break;\n      case 'new_message':\n        // Redirect to chat/order page\n        if (notification.data && notification.data.order_id) {\n          window.location.href = `/chat/${notification.data.order_id}`;\n        }\n        break;\n      default:\n        // Default redirect to orders page\n        window.location.href = '/orders';\n    }\n  };\n\n  // ‚úÖ BROWSER-GENERATED SOUND (FALLBACK - NO FILE NEEDED)\n  const playBrowserSound = () => {\n    try {\n      // Create audio context\n      const AudioContext = window.AudioContext || window.webkitAudioContext;\n      const audioCtx = new AudioContext();\n\n      // Create oscillator for beep sound\n      const oscillator = audioCtx.createOscillator();\n      const gainNode = audioCtx.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(audioCtx.destination);\n\n      // Configure the beep sound\n      oscillator.frequency.setValueAtTime(800, audioCtx.currentTime); // Frequency in Hz\n      oscillator.type = 'sine';\n      gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime); // Volume\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);\n      oscillator.start(audioCtx.currentTime);\n      oscillator.stop(audioCtx.currentTime + 0.3);\n    } catch (error) {\n      console.log('Browser sound also failed:', error);\n    }\n  };\n\n  // ‚úÖ VIBRATION (FOR MOBILE DEVICES)\n  const vibrateDevice = () => {\n    if ('vibrate' in navigator) {\n      navigator.vibrate(200); // Vibrate for 200ms\n    }\n  };\n\n  // Add new notification\n  const addNotification = notification => {\n    const newNotification = {\n      id: Date.now(),\n      ...notification,\n      timestamp: new Date(),\n      read: false\n    };\n    setNotifications(prev => [newNotification, ...prev]);\n    setUnreadCount(prev => prev + 1);\n\n    // ‚úÖ PLAY SOUND AND VIBRATE\n    playNotificationSound();\n    vibrateDevice();\n\n    // Show browser notification if permitted\n    if (Notification.permission === 'granted') {\n      new Notification(notification.title || 'New Notification', {\n        body: notification.message,\n        icon: '/favicon.ico',\n        tag: 'p2p-notification'\n      });\n    }\n  };\n\n  // Mark notification as read\n  const markAsRead = id => {\n    setNotifications(prev => prev.map(notif => notif.id === id ? {\n      ...notif,\n      read: true\n    } : notif));\n    setUnreadCount(prev => Math.max(0, prev - 1));\n  };\n\n  // Mark all as read\n  const markAllAsRead = () => {\n    setNotifications(prev => prev.map(notif => ({\n      ...notif,\n      read: true\n    })));\n    setUnreadCount(0);\n  };\n\n  // Clear all notifications\n  const clearAll = () => {\n    setNotifications([]);\n    setUnreadCount(0);\n  };\n\n  // Join user notification room\n  const joinUserRoom = userId => {\n    if (socket && userId) {\n      socket.emit('join_user', userId);\n      console.log(`üîî Frontend: Joined notification room for user ${userId}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(NotificationContext.Provider, {\n    value: {\n      notifications,\n      unreadCount,\n      addNotification,\n      markAsRead,\n      markAllAsRead,\n      clearAll,\n      socket,\n      joinUserRoom\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n};\n\n// ‚úÖ CREATE QUERY CLIENT\n_s2(NotificationProvider, \"y5SaqQbS/PEjVXhMYkCzUx8kkV0=\");\n_c = NotificationProvider;\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: 1\n    }\n  }\n});\n\n// ‚úÖ MAIN APP COMPONENT (without useNotifications hook)\nfunction AppContent() {\n  _s3();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(true);\n  const [loading, setLoading] = useState(true);\n\n  // Now we can use the hook here because this component is INSIDE NotificationProvider\n  const {\n    joinUserRoom,\n    socket,\n    addNotification\n  } = useNotifications();\n\n  // Request notification permission on app start\n  useEffect(() => {\n    if ('Notification' in window) {\n      if (Notification.permission === 'default') {\n        Notification.requestPermission().then(permission => {\n          console.log('Notification permission:', permission);\n        });\n      }\n    }\n  }, []);\n\n  // Check if user is already logged in (on app start)\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    if (token && userData) {\n      const user = JSON.parse(userData);\n      setCurrentUser(user);\n    }\n    setLoading(false);\n  }, []);\n\n  // Socket.io listeners for real-time notifications\n  useEffect(() => {\n    if (socket && currentUser) {\n      // Join user's notification room when logged in\n      joinUserRoom(currentUser.id);\n\n      // Listen for new orders\n      socket.on('new_order', orderData => {\n        console.log('üîî New order received:', orderData);\n\n        // Add a small delay to avoid duplicates with frontend notifications\n        setTimeout(() => {\n          addNotification({\n            type: 'new_order',\n            title: 'üéâ New Order!',\n            message: `${orderData.buyer_name} ordered ${orderData.amount} ${orderData.currency_from} for ${orderData.total_price} ${orderData.currency_to}`,\n            data: orderData,\n            priority: 'high'\n          });\n        }, 1000); // 1 second delay\n      });\n\n      // Listen for order status updates\n      socket.on('order_status_updated', statusData => {\n        console.log('üîî Order status updated:', statusData);\n        addNotification({\n          type: 'order_status',\n          title: 'üì¶ Order Status Updated',\n          message: `Order #${statusData.order_id} is now ${statusData.status}`,\n          data: statusData,\n          priority: 'medium'\n        });\n      });\n\n      // Listen for chat messages (if you want notifications for new messages)\n      socket.on('receive_message', messageData => {\n        console.log('üîî New message received:', messageData);\n\n        // Only notify if message is not from current user\n        if (messageData.sender_id !== currentUser.id) {\n          addNotification({\n            type: 'new_message',\n            title: 'üí¨ New Message',\n            message: `New message in order #${messageData.order_id}`,\n            data: messageData,\n            priority: 'low'\n          });\n        }\n      });\n\n      // Handle connection events\n      socket.on('connect', () => {\n        console.log('üîµ Connected to server');\n      });\n      socket.on('disconnect', () => {\n        console.log('üî¥ Disconnected from server');\n      });\n      socket.on('connect_error', error => {\n        console.error('üî¥ Connection error:', error);\n      });\n    }\n\n    // Cleanup on unmount or when user/socket changes\n    return () => {\n      if (socket) {\n        socket.off('new_order');\n        socket.off('order_status_updated');\n        socket.off('receive_message');\n        socket.off('connect');\n        socket.off('disconnect');\n        socket.off('connect_error');\n      }\n    };\n  }, [socket, currentUser, joinUserRoom, addNotification]);\n  const handleLogin = authData => {\n    setCurrentUser(authData.user);\n    localStorage.setItem('token', authData.token);\n    localStorage.setItem('user', JSON.stringify(authData.user));\n    console.log('User logged in:', authData.user);\n  };\n  const handleLogout = () => {\n    setCurrentUser(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    queryClient.clear();\n    console.log('User logged out');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: currentUser ? /*#__PURE__*/_jsxDEV(Dashboard, {\n      user: currentUser,\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD83D\\uDE80 P2P Currency Exchange\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Trade currencies securely with people worldwide\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this), showLogin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-switch\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"switch-link\",\n                onClick: () => setShowLogin(false),\n                children: \"Sign up here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Register, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-switch\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Already have an account?\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"switch-link\",\n                onClick: () => setShowLogin(true),\n                children: \"Login here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"features\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Why Choose Our Platform?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feature-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature\",\n              children: \"\\uD83D\\uDD12 Secure Transactions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature\",\n              children: \"\\uD83C\\uDF0D Global Marketplace\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature\",\n              children: \"\\u26A1 Fast Verification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature\",\n              children: \"\\uD83D\\uDCBC Multiple Payment Methods\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 5\n  }, this);\n}\n\n// ‚úÖ MAIN APP WRAPPER\n_s3(AppContent, \"hzW4lg1zKj6W6Eu4HOfYP3YYum4=\", false, function () {\n  return [useNotifications];\n});\n_c2 = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(QueryClientProvider, {\n    client: queryClient,\n    children: /*#__PURE__*/_jsxDEV(NotificationProvider, {\n      children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 390,\n    columnNumber: 5\n  }, this);\n}\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"NotificationProvider\");\n$RefreshReg$(_c2, \"AppContent\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","QueryClient","QueryClientProvider","io","Login","Register","Dashboard","jsxDEV","_jsxDEV","Fragment","_Fragment","NotificationContext","useNotifications","_s","context","Error","NotificationProvider","children","_s2","notifications","setNotifications","unreadCount","setUnreadCount","socket","setSocket","newSocket","disconnect","playNotificationSound","audio","Audio","volume","play","catch","err","console","log","playBrowserSound","error","handleNotificationClick","notification","type","data","id","window","location","href","order_id","AudioContext","webkitAudioContext","audioCtx","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","setValueAtTime","currentTime","gain","exponentialRampToValueAtTime","start","stop","vibrateDevice","navigator","vibrate","addNotification","newNotification","Date","now","timestamp","read","prev","Notification","permission","title","body","message","icon","tag","markAsRead","map","notif","Math","max","markAllAsRead","clearAll","joinUserRoom","userId","emit","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","queryClient","defaultOptions","queries","refetchOnWindowFocus","retry","AppContent","_s3","currentUser","setCurrentUser","showLogin","setShowLogin","loading","setLoading","requestPermission","then","token","localStorage","getItem","userData","user","JSON","parse","on","orderData","setTimeout","buyer_name","amount","currency_from","total_price","currency_to","priority","statusData","status","messageData","sender_id","off","handleLogin","authData","setItem","stringify","handleLogout","removeItem","clear","className","onLogout","onLogin","onClick","_c2","App","client","_c3","$RefreshReg$"],"sources":["/Users/mdkhalidhossain/CST/p2p-exchange/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { io } from 'socket.io-client';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Dashboard from './components/Dashboard';\nimport './App.css';\n\n// ‚úÖ CREATE NOTIFICATION CONTEXT\nconst NotificationContext = createContext();\n\n// ‚úÖ CUSTOM HOOK FOR NOTIFICATIONS\nexport const useNotifications = () => {\n  const context = useContext(NotificationContext);\n  if (!context) {\n    throw new Error('useNotifications must be used within NotificationProvider');\n  }\n  return context;\n};\n\n// ‚úÖ NOTIFICATION PROVIDER COMPONENT\nconst NotificationProvider = ({ children }) => {\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [socket, setSocket] = useState(null);\n\n  // Initialize socket connection\n  useEffect(() => {\n    const newSocket = io('http://localhost:50000'); // Your server URL\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.disconnect();\n    };\n  }, []);\n\n  // ‚úÖ IMPROVED NOTIFICATION SOUND FUNCTION\n  const playNotificationSound = () => {\n    // Method 1: Try to play MP3 file\n    try {\n      const audio = new Audio('/notification.mp3');\n      audio.volume = 0.3; // Set volume to 30%\n      audio.play().catch(err => {\n        console.log('MP3 audio play failed, trying fallback:', err);\n        // If MP3 fails, use browser-generated sound\n        playBrowserSound();\n      });\n    } catch (error) {\n      console.log('MP3 audio error, using fallback:', error);\n      playBrowserSound();\n    }\n  };\n\n  // ‚úÖ ADD THIS FUNCTION to your NotificationProvider\nconst handleNotificationClick = (notification) => {\n  console.log('üîî Notification clicked:', notification);\n  \n  switch (notification.type) {\n    case 'new_order':\n    case 'order_status':\n      // Redirect to order details page\n      if (notification.data && notification.data.id) {\n        window.location.href = `/orders/${notification.data.id}`;\n      } else if (notification.data && notification.data.order_id) {\n        window.location.href = `/orders/${notification.data.order_id}`;\n      }\n      break;\n      \n    case 'new_message':\n      // Redirect to chat/order page\n      if (notification.data && notification.data.order_id) {\n        window.location.href = `/chat/${notification.data.order_id}`;\n      }\n      break;\n      \n    default:\n      // Default redirect to orders page\n      window.location.href = '/orders';\n  }\n};\n\n  // ‚úÖ BROWSER-GENERATED SOUND (FALLBACK - NO FILE NEEDED)\n  const playBrowserSound = () => {\n    try {\n      // Create audio context\n      const AudioContext = window.AudioContext || window.webkitAudioContext;\n      const audioCtx = new AudioContext();\n      \n      // Create oscillator for beep sound\n      const oscillator = audioCtx.createOscillator();\n      const gainNode = audioCtx.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioCtx.destination);\n      \n      // Configure the beep sound\n      oscillator.frequency.setValueAtTime(800, audioCtx.currentTime); // Frequency in Hz\n      oscillator.type = 'sine';\n      \n      gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime); // Volume\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);\n      \n      oscillator.start(audioCtx.currentTime);\n      oscillator.stop(audioCtx.currentTime + 0.3);\n      \n    } catch (error) {\n      console.log('Browser sound also failed:', error);\n    }\n  };\n\n  // ‚úÖ VIBRATION (FOR MOBILE DEVICES)\n  const vibrateDevice = () => {\n    if ('vibrate' in navigator) {\n      navigator.vibrate(200); // Vibrate for 200ms\n    }\n  };\n\n  // Add new notification\n  const addNotification = (notification) => {\n    const newNotification = {\n      id: Date.now(),\n      ...notification,\n      timestamp: new Date(),\n      read: false\n    };\n    \n    setNotifications(prev => [newNotification, ...prev]);\n    setUnreadCount(prev => prev + 1);\n    \n    // ‚úÖ PLAY SOUND AND VIBRATE\n    playNotificationSound();\n    vibrateDevice();\n    \n    // Show browser notification if permitted\n    if (Notification.permission === 'granted') {\n      new Notification(notification.title || 'New Notification', {\n        body: notification.message,\n        icon: '/favicon.ico',\n        tag: 'p2p-notification'\n      });\n    }\n  };\n\n  // Mark notification as read\n  const markAsRead = (id) => {\n    setNotifications(prev =>\n      prev.map(notif =>\n        notif.id === id ? { ...notif, read: true } : notif\n      )\n    );\n    setUnreadCount(prev => Math.max(0, prev - 1));\n  };\n\n  // Mark all as read\n  const markAllAsRead = () => {\n    setNotifications(prev => prev.map(notif => ({ ...notif, read: true })));\n    setUnreadCount(0);\n  };\n\n  // Clear all notifications\n  const clearAll = () => {\n    setNotifications([]);\n    setUnreadCount(0);\n  };\n\n  // Join user notification room\n  const joinUserRoom = (userId) => {\n    if (socket && userId) {\n      socket.emit('join_user', userId);\n      console.log(`üîî Frontend: Joined notification room for user ${userId}`);\n    }\n  };\n\n  return (\n    <NotificationContext.Provider value={{\n      notifications,\n      unreadCount,\n      addNotification,\n      markAsRead,\n      markAllAsRead,\n      clearAll,\n      socket,\n      joinUserRoom\n    }}>\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n\n// ‚úÖ CREATE QUERY CLIENT\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      refetchOnWindowFocus: false,\n      retry: 1,\n    },\n  },\n});\n\n// ‚úÖ MAIN APP COMPONENT (without useNotifications hook)\nfunction AppContent() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [showLogin, setShowLogin] = useState(true);\n  const [loading, setLoading] = useState(true);\n  \n  // Now we can use the hook here because this component is INSIDE NotificationProvider\n  const { joinUserRoom, socket, addNotification } = useNotifications();\n\n  // Request notification permission on app start\n  useEffect(() => {\n    if ('Notification' in window) {\n      if (Notification.permission === 'default') {\n        Notification.requestPermission().then(permission => {\n          console.log('Notification permission:', permission);\n        });\n      }\n    }\n  }, []);\n\n  // Check if user is already logged in (on app start)\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    \n    if (token && userData) {\n      const user = JSON.parse(userData);\n      setCurrentUser(user);\n    }\n    setLoading(false);\n  }, []);\n\n  // Socket.io listeners for real-time notifications\n  useEffect(() => {\n    if (socket && currentUser) {\n      // Join user's notification room when logged in\n      joinUserRoom(currentUser.id);\n\n// Listen for new orders\nsocket.on('new_order', (orderData) => {\n  console.log('üîî New order received:', orderData);\n  \n  // Add a small delay to avoid duplicates with frontend notifications\n  setTimeout(() => {\n    addNotification({\n      type: 'new_order',\n      title: 'üéâ New Order!',\n      message: `${orderData.buyer_name} ordered ${orderData.amount} ${orderData.currency_from} for ${orderData.total_price} ${orderData.currency_to}`,\n      data: orderData,\n      priority: 'high'\n    });\n  }, 1000); // 1 second delay\n});\n\n      // Listen for order status updates\n      socket.on('order_status_updated', (statusData) => {\n        console.log('üîî Order status updated:', statusData);\n        \n        addNotification({\n          type: 'order_status',\n          title: 'üì¶ Order Status Updated',\n          message: `Order #${statusData.order_id} is now ${statusData.status}`,\n          data: statusData,\n          priority: 'medium'\n        });\n      });\n\n      // Listen for chat messages (if you want notifications for new messages)\n      socket.on('receive_message', (messageData) => {\n        console.log('üîî New message received:', messageData);\n        \n        // Only notify if message is not from current user\n        if (messageData.sender_id !== currentUser.id) {\n          addNotification({\n            type: 'new_message',\n            title: 'üí¨ New Message',\n            message: `New message in order #${messageData.order_id}`,\n            data: messageData,\n            priority: 'low'\n          });\n        }\n      });\n\n      // Handle connection events\n      socket.on('connect', () => {\n        console.log('üîµ Connected to server');\n      });\n\n      socket.on('disconnect', () => {\n        console.log('üî¥ Disconnected from server');\n      });\n\n      socket.on('connect_error', (error) => {\n        console.error('üî¥ Connection error:', error);\n      });\n    }\n\n    // Cleanup on unmount or when user/socket changes\n    return () => {\n      if (socket) {\n        socket.off('new_order');\n        socket.off('order_status_updated');\n        socket.off('receive_message');\n        socket.off('connect');\n        socket.off('disconnect');\n        socket.off('connect_error');\n      }\n    };\n  }, [socket, currentUser, joinUserRoom, addNotification]);\n\n  const handleLogin = (authData) => {\n    setCurrentUser(authData.user);\n    localStorage.setItem('token', authData.token);\n    localStorage.setItem('user', JSON.stringify(authData.user));\n    console.log('User logged in:', authData.user);\n  };\n\n  const handleLogout = () => {\n    setCurrentUser(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    queryClient.clear();\n    console.log('User logged out');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"app\">\n        <div className=\"container\">\n          <div className=\"loading\">Loading...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      {currentUser ? (\n        <Dashboard user={currentUser} onLogout={handleLogout} />\n      ) : (\n        <div className=\"container\">\n          <div className=\"auth-container\">\n            <div className=\"auth-header\">\n              <h1>üöÄ P2P Currency Exchange</h1>\n              <p>Trade currencies securely with people worldwide</p>\n            </div>\n\n            {showLogin ? (\n              <>\n                <Login onLogin={handleLogin} />\n                <div className=\"auth-switch\">\n                  <p>Don't have an account?{' '}\n                    <span className=\"switch-link\" onClick={() => setShowLogin(false)}>\n                      Sign up here\n                    </span>\n                  </p>\n                </div>\n              </>\n            ) : (\n              <>\n                <Register onLogin={handleLogin} />\n                <div className=\"auth-switch\">\n                  <p>Already have an account?{' '}\n                    <span className=\"switch-link\" onClick={() => setShowLogin(true)}>\n                      Login here\n                    </span>\n                  </p>\n                </div>\n              </>\n            )}\n\n            <div className=\"features\">\n              <h3>Why Choose Our Platform?</h3>\n              <div className=\"feature-list\">\n                <div className=\"feature\">üîí Secure Transactions</div>\n                <div className=\"feature\">üåç Global Marketplace</div>\n                <div className=\"feature\">‚ö° Fast Verification</div>\n                <div className=\"feature\">üíº Multiple Payment Methods</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ‚úÖ MAIN APP WRAPPER\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <NotificationProvider>\n        <AppContent />\n      </NotificationProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}